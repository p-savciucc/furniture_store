import 'package:flutter/material.dart';

class SliderPainter extends CustomPainter {
  SliderPainter({this.progress = 0, required this.isCircle, required this.dragPosition, required this.sliderColor});

  final Offset dragPosition;
  final Color sliderColor;
  final double progress;
  final bool isCircle;

  @override
  void paint(Canvas canvas, Size size) {
    final Paint paint = Paint()
      ..color = sliderColor
      ..style = PaintingStyle.stroke
      ..strokeWidth = 8;

    final Paint circle = Paint()
      ..color = Colors.blue
      ..style = PaintingStyle.fill;

    final Path path = Path();

    path.moveTo(0, 20);
    path.quadraticBezierTo(size.width / 2, 130, size.width, 20);
    final Offset toolTipOffset = Offset(progress, calculatePositionY(progress.toInt()));

    if (isCircle) {
      canvas
        ..drawPath(path, paint)
        ..drawCircle(toolTipOffset, 10, circle);
    } else {
      canvas.drawPath(path, paint);
    }
  }

  double calculatePositionY(int progress)
  {
    switch(progress)
    {
      case 0: return 20;
      case 1: return 20;
      case 2: return 20;
      case 3: return 20;
      case 4: return 20;
      case 5: return 21;
      case 6: return 21;
      case 7: return 22;
      case 8: return 23;
      case 9: return 24;
      case 10: return 25;
      case 11: return 27;
      case 12: return 28;
      case 13: return 28;
      case 14: return 29;
      case 15: return 31;
      case 16: return 32;
      case 17: return 32;
      case 18: return 32;
      case 19: return 33;
      case 20: return 33;
      case 21: return 34;
      case 22: return 35;
      case 23: return 35;
      case 24: return 36;
      case 25: return 36;
      case 26: return 37;
      case 27: return 37;
      case 28: return 38;
      case 29: return 38;
      case 30: return 39;
      case 31: return 39;
      case 32: return 40;
      case 33: return 41;
      case 34: return 41;
      case 35: return 43;
      case 36: return 43;
      case 37: return 43;
      case 38: return 44;
      case 39: return 45;
      case 40: return 45;
      case 41: return 45;
      case 42: return 47;
      case 43: return 47;
      case 44: return 47;
      case 45: return 48;
      case 46: return 48;
      case 47: return 49;
      case 48: return 49;
      case 49: return 50;
      case 50: return 51;
      case 51: return 51;
      case 52: return 52;
      case 53: return 53;
      case 54: return 53;
      case 55: return 54;
      case 56: return 54;
      case 57: return 54;
      case 58: return 55;
      case 59: return 55;
      case 60: return 56;
      case 61: return 57;
      case 62: return 57;
      case 63: return 57;
      case 64: return 57;
      case 65: return 58;
      case 66: return 58;
      case 67: return 58;
      case 68: return 58;
      case 69: return 59;
      case 70: return 59;
      case 71: return 60;
      case 72: return 60;
      case 73: return 61;
      case 74: return 61;
      case 75: return 62;
      case 76: return 62;
      case 77: return 63;
      case 78: return 63;
      case 79: return 64;
      case 80: return 64;
      case 81: return 64;
      case 82: return 64;
      case 83: return 64;
      case 84: return 64;
      case 85: return 65;
      case 86: return 65;
      case 87: return 65;
      case 88: return 65;
      case 89: return 65;
      case 90: return 66;
      case 91: return 66;
      case 92: return 66;
      case 93: return 68;
      case 94: return 68;
      case 95: return 68;
      case 96: return 68;
      case 97: return 69;
      case 98: return 69;
      case 99: return 69;
      case 100: return 69;
      case 101: return 69;
      case 102: return 70;
      case 103: return 70;
      case 104: return 70;
      case 105: return 70;
      case 106: return 70;
      case 107: return 70;
      case 108: return 70;
      case 109: return 71;
      case 110: return 71;
      case 111: return 72;
      case 112: return 72;
      case 113: return 72;
      case 114: return 72;
      case 115: return 72;
      case 116: return 72;
      case 117: return 72;
      case 118: return 73;
      case 119: return 73;
      case 120: return 73;
      case 121: return 73;
      case 122: return 73;
      case 123: return 73;
      case 124: return 74;
      case 125: return 74;
      case 126: return 74;
      case 127: return 74;
      case 128: return 74;
      case 129: return 74;
      case 130: return 74;
      case 131: return 75;
      case 132: return 75;
      case 133: return 75;
      case 134: return 75;
      case 135: return 76;
      case 136: return 76;
      case 137: return 76;
      case 138: return 76;
      case 139: return 76;
      case 140: return 76;
      case 141: return 76;
      case 142: return 76;
      case 143: return 76;
      case 144: return 76;
      case 145: return 76;
      case 146: return 76;
      case 147: return 76;
      case 148: return 76;
      case 149: return 76;
      case 150: return 76;
      case 151: return 76;
      case 152: return 76;
      case 153: return 76;
      case 154: return 76;
      case 155: return 76;
      case 156: return 76;
      case 157: return 76;
      case 158: return 76;
      case 159: return 76;
      case 160: return 76;
      case 161: return 76;
      case 162: return 75;
      case 163: return 75;
      case 164: return 75;
      case 165: return 75;
      case 166: return 75;
      case 167: return 75;
      case 168: return 75;
      case 169: return 74;
      case 170: return 74;
      case 171: return 74;
      case 172: return 74;
      case 173: return 74;
      case 174: return 74;
      case 175: return 74;
      case 176: return 74;
      case 177: return 74;
      case 178: return 74;
      case 179: return 73;
      case 180: return 73;
      case 181: return 73;
      case 182: return 73;
      case 183: return 73;
      case 184: return 73;
      case 185: return 73;
      case 186: return 73;
      case 187: return 73;
      case 188: return 73;
      case 189: return 73;
      case 190: return 73;
      case 191: return 73;
      case 192: return 72;
      case 193: return 71;
      case 194: return 71;
      case 195: return 71;
      case 196: return 70;
      case 197: return 70;
      case 198: return 69;
      case 199: return 69;
      case 200: return 68;
      case 201: return 68;
      case 202: return 68;
      case 203: return 68;
      case 204: return 68;
      case 205: return 67;
      case 206: return 67;
      case 207: return 67;
      case 208: return 67;
      case 209: return 67;
      case 210: return 67;
      case 211: return 67;
      case 212: return 66;
      case 213: return 66;
      case 214: return 66;
      case 215: return 66;
      case 216: return 66;
      case 217: return 66;
      case 218: return 65;
      case 219: return 65;
      case 220: return 65;
      case 221: return 65;
      case 222: return 64;
      case 223: return 64;
      case 224: return 63;
      case 225: return 63;
      case 226: return 63;
      case 227: return 62;
      case 228: return 62;
      case 229: return 62;
      case 230: return 61;
      case 231: return 61;
      case 232: return 60;
      case 233: return 58;
      case 234: return 58;
      case 235: return 58;
      case 236: return 58;
      case 237: return 57;
      case 238: return 56;
      case 239: return 56;
      case 240: return 55;
      case 241: return 54;
      case 242: return 54;
      case 243: return 54;
      case 244: return 53;
      case 245: return 53;
      case 246: return 53;
      case 247: return 53;
      case 248: return 52;
      case 249: return 51;
      case 250: return 51;
      case 251: return 51;
      case 252: return 50;
      case 253: return 50;
      case 254: return 49;
      case 255: return 49;
      case 256: return 49;
      case 257: return 48;
      case 258: return 48;
      case 259: return 47;
      case 260: return 46;
      case 261: return 46;
      case 262: return 45;
      case 263: return 45;
      case 264: return 45;
      case 265: return 44;
      case 266: return 43;
      case 267: return 42;
      case 268: return 42;
      case 269: return 42;
      case 270: return 41;
      case 271: return 41;
      case 272: return 40;
      case 273: return 40;
      case 274: return 38;
      case 275: return 38;
      case 276: return 38;
      case 277: return 37;
      case 278: return 37;
      case 279: return 36;
      case 280: return 35;
      case 281: return 34;
      case 282: return 34;
      case 283: return 33;
      case 284: return 32;
      case 285: return 32;
      case 286: return 32;
      case 287: return 31;
      case 288: return 30;
      case 289: return 30;
      case 290: return 30;
      case 291: return 29;
      case 292: return 29;
      case 293: return 29;
      case 294: return 28;
      case 295: return 27;
      case 296: return 26;
      case 297: return 25;
      case 298: return 24;
      case 299: return 23;
      case 300: return 22;
      default: return dragPosition.dy;
    }
  }

  @override
  bool shouldRepaint(covariant CustomPainter oldDelegate) => true;
}
